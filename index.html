<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plan Hebdomadaire - Notion Embed</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/lucide-react"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { 
            background: #FFF8F3; 
            font-family: 'Segoe UI', system-ui, sans-serif; 
        }
        .notion-compatible {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        .export-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 100;
        }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        // Copiez tout votre code React ici
        // ... (votre code complet)
        
        // Rendu
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<PlanHebdoCalendar />);
    </script>
    
    <button class="export-btn" onclick="exportToNotion()" 
            style="background: #C9A58C; color: white; padding: 12px 24px; border-radius: 12px; font-weight: bold; box-shadow: 0 4px 12px rgba(201, 165, 140, 0.3);">
        ðŸ“‹ Copier pour Notion
    </button>
    
    <script>
        function exportToNotion() {
            // Format pour copier-coller dans Notion
            const tasksByDay = {};
            // Organiser les tÃ¢ches par jour
            // ... logique d'organisation
            
            let markdown = "# ðŸ“… Plan Hebdomadaire\n\n";
            
            ['Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi', 'Dimanche'].forEach((day, index) => {
                markdown += `## ${day}\n`;
                const dayTasks = window.tasks?.filter(t => t.day === index) || [];
                
                if (dayTasks.length === 0) {
                    markdown += "- Aucune tÃ¢che\n";
                } else {
                    dayTasks.forEach(task => {
                        const statusIcon = {
                            'pending': 'â³',
                            'inprogress': 'ðŸ”„',
                            'done': 'âœ…'
                        }[task.status];
                        
                        markdown += `- ${statusIcon} **${task.name}** (${task.time}) - ${task.category}\n`;
                    });
                }
                markdown += "\n";
            });
            
            // Copier dans le presse-papier
            navigator.clipboard.writeText(markdown)
                .then(() => alert('âœ… Plan copiÃ© ! Collez-le dans Notion'))
                .catch(err => console.error('Erreur:', err));
        }
        
        // Exposer les tÃ¢ches globalement pour l'export
        window.tasks = []; // Seront remplis par React
    </script>
</body>
</html>
